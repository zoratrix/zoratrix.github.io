<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∞–≥–∏—á–µ—Å–∫–∏–π —à–∞—Ä —Å –∞–Ω–µ–∫–¥–æ—Ç–∞–º–∏</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
        }

        .container {
            width: 100%;
            max-width: 500px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .magic-ball {
            width: 100%;
            max-width: 250px;
            height: auto;
            cursor: pointer;
            transition: transform 0.3s ease;
            user-select: none;
            -webkit-user-select: none;
        }

        .magic-ball:hover {
            transform: scale(1.05);
        }

        .magic-ball:active {
            transform: scale(0.95);
        }

        .shake {
            animation: shake 0.5s ease-in-out;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0) rotate(0); }
            25% { transform: translateX(-8px) rotate(-3deg); }
            50% { transform: translateX(8px) rotate(3deg); }
            75% { transform: translateX(-8px) rotate(-3deg); }
        }

        .joke-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: white;
            padding: 25px 20px;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            max-width: 90%;
            width: 400px;
            text-align: center;
            z-index: 1000;
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .joke-modal.active {
            transform: translate(-50%, -50%) scale(1);
        }

        .joke-text {
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 25px;
            color: #333;
            text-align: left;
            padding: 0 10px;
        }

        .close-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            min-width: 120px;
        }

        .close-btn:active {
            transform: translateY(2px);
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.4);
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 999;
            backdrop-filter: blur(5px);
        }

        .overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .instruction {
            color: white;
            text-align: center;
            margin-top: 30px;
            font-size: 14px;
            opacity: 0.8;
            padding: 0 20px;
        }

        .vibration-icon {
            font-size: 20px;
            margin-bottom: 5px;
        }

        /* –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
        @media (max-width: 480px) {
            .container {
                padding: 15px;
            }
            
            .magic-ball {
                max-width: 200px;
            }
            
            .joke-modal {
                padding: 20px 15px;
                border-radius: 15px;
            }
            
            .joke-text {
                font-size: 15px;
                margin-bottom: 20px;
            }
            
            .close-btn {
                padding: 10px 25px;
                font-size: 15px;
            }
            
            .instruction {
                font-size: 13px;
                margin-top: 20px;
            }
        }

        @media (max-width: 360px) {
            .magic-ball {
                max-width: 180px;
            }
            
            .joke-text {
                font-size: 14px;
            }
        }

        /* –ü–æ—Ä—Ç—Ä–µ—Ç–Ω–∞—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è */
        @media (max-height: 600px) and (orientation: portrait) {
            .container {
                padding: 10px;
            }
            
            .magic-ball {
                max-width: 180px;
            }
            
            .instruction {
                margin-top: 15px;
                font-size: 12px;
            }
        }

        /* –õ–∞–Ω–¥—à–∞—Ñ—Ç–Ω–∞—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è */
        @media (max-height: 500px) and (orientation: landscape) {
            .container {
                flex-direction: row;
                justify-content: center;
                gap: 30px;
            }
            
            .magic-ball {
                max-width: 150px;
                flex-shrink: 0;
            }
            
            .instruction {
                margin-top: 0;
                max-width: 200px;
            }
        }

        /* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã */
        @media (prefers-color-scheme: dark) {
            .joke-modal {
                background: #2d3748;
                color: white;
            }
            
            .joke-text {
                color: #e2e8f0;
            }
        }

        /* –£–ª—É—á—à–µ–Ω–∏—è –¥–ª—è iOS */
        @supports (-webkit-touch-callout: none) {
            .joke-modal {
                -webkit-overflow-scrolling: touch;
            }
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –í–°–¢–ê–í–¨–¢–ï –í–ê–®–£ –ö–ê–†–¢–ò–ù–ö–£ –ú–ê–ì–ò–ß–ï–°–ö–û–ì–û –®–ê–†–ê –ó–î–ï–°–¨ -->
        <img src="ball.png" alt="–ú–∞–≥–∏—á–µ—Å–∫–∏–π —à–∞—Ä" class="magic-ball" id="magicBall">
        <!-- –ó–ê–ú–ï–ù–ò–¢–ï "–ø—É—Ç—å/–∫/–≤–∞—à–µ–π/–∫–∞—Ä—Ç–∏–Ω–∫–µ/–º–∞–≥–∏—á–µ—Å–∫–∏–π-—à–∞—Ä.png" –ù–ê –†–ï–ê–õ–¨–ù–´–ô –ü–£–¢–¨ –ö –í–ê–®–ï–ô –ö–ê–†–¢–ò–ù–ö–ï -->
        
        <div class="instruction">
            <div class="vibration-icon">üì±</div>
            –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —à–∞—Ä, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∞–Ω–µ–∫–¥–æ—Ç!
        </div>
    </div>

    <div class="joke-modal" id="jokeModal">
        <div class="joke-text" id="jokeText"></div>
        <button class="close-btn" id="closeBtn">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>

    <div class="overlay" id="overlay"></div>

    <script>
        // –ë–∞–∑–∞ –∏–∑ 200 –∞–Ω–µ–∫–¥–æ—Ç–æ–≤
        const jokes = [
            "–ü–æ—á–µ–º—É –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—ã —Ç–∞–∫ –ø–ª–æ—Ö–æ —Ç–∞–Ω—Ü—É—é—Ç? –£ –Ω–∏—Ö –Ω–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º–∞.",
            "–ü—Ä–∏—Ö–æ–¥–∏—Ç –∫–∞–∫-—Ç–æ —É–ª–∏—Ç–∫–∞ –≤ –±–∞—Ä, –∞ –±–∞—Ä–º–µ–Ω –µ–π: '–£ –Ω–∞—Å —Å—Ç—Ä–æ–≥–∏–π —Ñ–µ–π—Å-–∫–æ–Ω—Ç—Ä–æ–ª—å!'",
            "‚Äî –î–æ–∫—Ç–æ—Ä, —è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —á—É–≤—Å—Ç–≤—É—é —Å–µ–±—è —Å–æ–±–∞–∫–æ–π! ‚Äî –ê –¥–∞–≤–Ω–æ —ç—Ç–æ —É –≤–∞—Å? ‚Äî –° –¥–µ—Ç—Å—Ç–≤–∞. ‚Äî –ò —á—Ç–æ, —Å–∏–ª—å–Ω–æ –º—É—á–∞–µ—Ç? ‚Äî –ù–µ—Ç, –≥–∞–≤–∫–∞—Ç—å –Ω–µ –º–æ–≥—É.",
            "–°—Ç–æ—è—Ç –¥–≤–∞ –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞ –≤ –º—É–∑–µ–µ. –û–¥–∏–Ω –¥—Ä—É–≥–æ–º—É: '–ù—É –∏ —Å–∫—É–∫–∞ —Å–µ–≥–æ–¥–Ω—è...' ‚Äî '–ê–≥–∞, –¥–∞–∂–µ –∏—Å–∫—É—Å—Å—Ç–≤–æ –Ω–µ —Å–ø–∞—Å–∞–µ—Ç.'",
            "–û–±—ä—è–≤–ª–µ–Ω–∏–µ: '–ü—Ä–æ–¥–∞–º –≥–∞—Ä–∞–∂. –¢–æ—Ä–≥ —É–º–µ—Å—Ç–µ–Ω. –û—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ –≤—ã –∏–∑ –Ω–∞–ª–æ–≥–æ–≤–æ–π.'",
            "–ü–æ—á–µ–º—É –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏ —Ç–∞–∫ –ª—é–±—è—Ç –ø—Ä–∏—Ä–æ–¥—É? –ü–æ—Ç–æ–º—É —á—Ç–æ –≤ –Ω–µ–π –µ—Å—Ç—å –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã–µ –ª–æ–≥–∞—Ä–∏—Ñ–º—ã.",
            "‚Äî –ü–æ—á–µ–º—É –≤—ã –Ω–æ—Å–∏—Ç–µ –≤–æ–¥—É –≤ —Ä–µ—à–µ—Ç–µ? ‚Äî –ê –≤—ã –≤–∏–¥–µ–ª–∏, —á—Ç–æ–±—ã –∫—Ç–æ-—Ç–æ –Ω–æ—Å–∏–ª –≤–æ–¥—É –≤ —á–µ–º-—Ç–æ –¥—Ä—É–≥–æ–º?",
            "–ó–∞—Ö–æ–¥–∏—Ç –∫–∞–∫-—Ç–æ –Ω–µ–π—Ä–æ—Å–µ—Ç—å –≤ –±–∞—Ä... –∞ —Ç–∞–º –≤—Å–µ —É–∂–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–æ.",
            "–ü–æ—á–µ–º—É –≤–∏—Ä—É—Å –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–ø–∏—Å–∞—Ç—å –∫–Ω–∏–≥—É? –ü–æ—Ç–æ–º—É —á—Ç–æ —É –Ω–µ–≥–æ –Ω–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å—Ç–∏–ª—è.",
            "–ß—Ç–æ —Å–∫–∞–∑–∞–ª –æ–¥–∏–Ω –∞—Ç–æ–º –¥—Ä—É–≥–æ–º—É? '–Ø –ø–æ—Ç–µ—Ä—è–ª —ç–ª–µ–∫—Ç—Ä–æ–Ω!' ‚Äî '–¢—ã —É–≤–µ—Ä–µ–Ω?' ‚Äî '–î–∞, —è –ø–æ–∑–∏—Ç–∏–≤–µ–Ω!'",
            // ... –¥–æ–±–∞–≤—å—Ç–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∞–Ω–µ–∫–¥–æ—Ç—ã
        ];

        const magicBall = document.getElementById('magicBall');
        const jokeModal = document.getElementById('jokeModal');
        const jokeText = document.getElementById('jokeText');
        const closeBtn = document.getElementById('closeBtn');
        const overlay = document.getElementById('overlay');

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∞–Ω–µ–∫–¥–æ—Ç–∞
        function getRandomJoke() {
            const randomIndex = Math.floor(Math.random() * jokes.length);
            return jokes[randomIndex];
        }

        // –§—É–Ω–∫—Ü–∏—è —Ç—Ä—è—Å–∫–∏ —à–∞—Ä–∞ –∏ –ø–æ–∫–∞–∑–∞ –∞–Ω–µ–∫–¥–æ—Ç–∞
        function shakeBallAndShowJoke() {
            // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é —Ç—Ä—è—Å–∫–∏
            magicBall.classList.add('shake');
            
            // –û—Ç–∫–ª—é—á–∞–µ–º –∫–Ω–æ–ø–∫—É –Ω–∞ –≤—Ä–µ–º—è –∞–Ω–∏–º–∞—Ü–∏–∏
            magicBall.style.pointerEvents = 'none';
            
            // –ñ–¥–µ–º –æ–∫–æ–Ω—á–∞–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∞–Ω–µ–∫–¥–æ—Ç
            setTimeout(() => {
                magicBall.classList.remove('shake');
                
                // –ü–æ–ª—É—á–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π –∞–Ω–µ–∫–¥–æ—Ç
                jokeText.textContent = getRandomJoke();
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏ –æ–≤–µ—Ä–ª–µ–π
                jokeModal.classList.add('active');
                overlay.classList.add('active');
                
                // –í–∫–ª—é—á–∞–µ–º –∫–Ω–æ–ø–∫—É –æ–±—Ä–∞—Ç–Ω–æ
                magicBall.style.pointerEvents = 'auto';
            }, 500);
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
        magicBall.addEventListener('click', shakeBallAndShowJoke);
        
        // –¢–∞–∫–∂–µ –¥–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è touch —Å–æ–±—ã—Ç–∏–π
        magicBall.addEventListener('touchstart', function(e) {
            e.preventDefault(); // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
        });

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
        closeBtn.addEventListener('click', closeModal);
        overlay.addEventListener('click', closeModal);

        // –¢–∞–∫–∂–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ —Ç–∞–ø—É –Ω–∞ –æ–≤–µ—Ä–ª–µ–π
        overlay.addEventListener('touchstart', closeModal);

        // –§—É–Ω–∫—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
        function closeModal() {
            jokeModal.classList.remove('active');
            overlay.classList.remove('active');
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ ESC
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeModal();
            }
        });

        // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏ –¥–≤–æ–π–Ω–æ–º —Ç–∞–ø–µ
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function (event) {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, false);

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏
        window.addEventListener('orientationchange', function() {
            // –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ —ç–∫—Ä–∞–Ω–∞
            setTimeout(() => {
                if (jokeModal.classList.contains('active')) {
                    // –ü–µ—Ä–µ—Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∏ –ø–æ–≤–æ—Ä–æ—Ç–µ
                    jokeModal.style.transform = 'translate(-50%, -50%) scale(1)';
                }
            }, 300);
        });

        // –í–∏–±—Ä–æ–æ—Ç–¥–∞—á–∞ –Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
        function triggerVibration() {
            if (navigator.vibrate) {
                navigator.vibrate([100, 50, 100]);
            }
        }

        // –û–±–Ω–æ–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é —Ç—Ä—è—Å–∫–∏ —Å –≤–∏–±—Ä–∞—Ü–∏–µ–π
        const originalShakeFunction = shakeBallAndShowJoke;
        shakeBallAndShowJoke = function() {
            triggerVibration();
            originalShakeFunction();
        };

        console.log('‚ú® –ú–∞–≥–∏—á–µ—Å–∫–∏–π —à–∞—Ä –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö!');
    </script>
</body>
</html>